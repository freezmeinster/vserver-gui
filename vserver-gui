#!/usr/bin/env python

import os.path,sys
sys.path.insert(0,os.path.join(os.path.dirname(__file__),'lib'))

from model.user import User
from vapi import vapi
from lib import db_engine
from controller import main,user,factory,resource,log,configuration
import cherrypy

#initial Configuration for Vserver-GUI
config = os.path.join(os.path.dirname(__file__),'vserver-gui.conf')
cherrypy.config.update({ 
    'tools.staticdir.root' : os.path.dirname(os.path.realpath(__file__)),
    'server.allip' : vapi.ALL_IP
     })                       
print cherrypy.server.socket_host

root = main.Controller()
root.user = user.Controller()
root.setting = main.Controller()
root.factory = factory.Controller()
root.resource = resource.Controller()
root.configuration = configuration.Controller()
root.log = log.Controller()


cherrypy.quickstart(root, config=config)

#cherrypy.tree.mount(root, config=config)
